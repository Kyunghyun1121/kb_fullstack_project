import{u as g,a as V,r as h,c as q,s as B,i as C,b as A,d as e,e as r,w as d,v as m,j as f,k as c,l as p,q as N,h as S,g as D,F,o as M}from"./index-ZfRbMGEi.js";import{b}from"./boardApi-Dfnx_55L.js";import"./index-CNlKXvUz.js";const R={class:"mb-3 mt-3"},T={class:"mb-3 mt-3"},U={class:"mb-3 mt-3"},j={class:"my-5 text-center"},H={__name:"BoardCreatePage",async setup(E){let l,n;const _=g(),i=C(),v=S(),o=V(null),s=h({writer:_.username,title:"",content:"",files:null}),y=q(()=>!s.title),w=async()=>{confirm("등록할까요?")&&(o.value.files.length>0&&(s.files=o.value.files),await b.create(s),i.push("/board/list"))},u=([l,n]=B(()=>b.create(s)),l=await l,n(),l);return console.log("no : "+u.no),i.push(`/board/detail/${u.no}`),(P,t)=>{const x=p("buttons"),k=p("router-link");return M(),A(F,null,[t[7]||(t[7]=e("h1",null,[e("i",{class:"fa-regular fa-pen-to-square"}),r(" 글 작성")],-1)),e("form",{onSubmit:D(w,["prevent"])},[e("div",R,[t[2]||(t[2]=e("label",{for:"title",class:"form-label"},"제목",-1)),d(e("input",{type:"text",class:"form-control",placeholder:"제목",id:"title","onUpdate:modelValue":t[0]||(t[0]=a=>s.title=a)},null,512),[[m,s.title]])]),e("div",T,[t[3]||(t[3]=e("label",{for:"files",class:"form-label"},"첨부파일",-1)),e("input",{type:"file",class:"form-control",placeholder:"첨부파일",id:"files",ref_key:"files",ref:o,multiple:""},null,512)]),e("div",U,[t[4]||(t[4]=e("label",{for:"content",class:"form-label"},"내용",-1)),d(e("textarea",{class:"form-control",placeholder:"내용",id:"content","onUpdate:modelValue":t[1]||(t[1]=a=>s.content=a),rows:"10"},null,512),[[m,s.content]])]),e("div",j,[f(x,{type:"submit",class:"btn btn-primary me-3",disabled:y.value},{default:c(()=>t[5]||(t[5]=[e("i",{class:"fa-solid fa-check"},null,-1),r(" 확인 ")])),_:1,__:[5]},8,["disabled"]),f(k,{class:"btn btn-primary",to:{name:"board/list",query:N(v).query}},{default:c(()=>t[6]||(t[6]=[e("i",{class:"fa-solid fa-list"},null,-1),r(" 목록 ")])),_:1,__:[6]},8,["to"])])],32)],64)}}};export{H as default};
